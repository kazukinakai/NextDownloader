# NextDownloader タスク管理

## 現在の主タスク

- [x] プロジェクト構造の再編成（2025-05-18）
- [x] Tauri 2.0 に基づいたアプリケーションの基本構造の実装（2025-05-18）
- [x] Rust コアライブラリの実装（2025-05-18）
- [x] FFI レイヤーの実装（2025-05-18）
- [x] Tauri バックエンドの実装（2025-05-18）
- [x] フロントエンド UI の実装（2025-05-18）
- [ ] Flutter UI への移行（開始: 2025-05-18）
  - [x] Flutter プロジェクト構造の設定（2025-05-18）
  - [x] 基本 UI 画面の実装（ホーム、ダウンロード一覧、設定）（2025-05-18）
  - [x] 移植リファレンスの作成（2025-05-18）
  - [ ] Flutter-Rust 連携（flutter_rust_bridge）の実装
  - [ ] プラットフォーム固有機能の実装（macOS、Windows、Linux）
  - [ ] 既存 Rust コアとの統合
- [ ] プロジェクト構造の最適化（開始: 2025-05-18）
  - [x] 移植リファレンス用の src ディレクトリの作成（2025-05-18）
  - [x] Flutter-Rust 連携の設定更新（2025-05-18）
  - [x] 不要なディレクトリの削除（bolt-ndsrc, packages）
  - [ ] モノレポ構造の最適化
- [ ] テストの実装
- [ ] CI/CD パイプラインの構築

## 優先度の高いタスク

- [ ] Flutter-Rust 連携（flutter_rust_bridge）の実装完了
- [ ] Flutter アプリのプラットフォーム固有機能の実装
- [ ] ダウンロードマネージャーの実装完了
- [ ] プロジェクト構造の最適化完了
- [ ] HLS/DASH ストリーミングダウンロード機能の実装
- [ ] 設定の永続化
- [ ] ダウンロード進捗の通知機能

## 作業中に発見されたタスク

- [ ] 依存ツールの自動インストール機能
- [ ] ダウンロード速度グラフの実装
- [ ] ダウンロードキューの管理機能
- [ ] Flutter アプリのダークモード対応の改善
- [ ] ファイル選択ダイアログの実装
- [ ] 最新のベストプラクティスに基づいたプロジェクト構造の最適化

## 完了したタスク

- [x] プロジェクト構造の再編成（2025-05-18）
- [x] Tauri 2.0 に基づいたアプリケーションの基本構造の実装（2025-05-18）
- [x] Rust コアライブラリの実装（2025-05-18）
- [x] FFI レイヤーの実装（2025-05-18）
- [x] Tauri バックエンドの実装（2025-05-18）
- [x] フロントエンド UI の実装（2025-05-18）
- [x] Flutter プロジェクト構造の設定（2025-05-18）
- [x] Flutter 基本 UI 画面の実装（ホーム、ダウンロード一覧、設定）（2025-05-18）
- [x] 移植リファレンスの作成（2025-05-18）
- [x] Flutter-Rust 連携の設定更新（2025-05-18）

## 将来の課題

- [ ] モバイルアプリ（iOS/Android）の実装
- [ ] ブラウザ拡張機能の開発
- [ ] プラグインシステムの実装
- [ ] 高度なダウンロードスケジューリング
- [ ] クラウド連携機能

## 進行中のタスクの詳細

### Flutter UI への移行

- [x] Flutter プロジェクト構造の設定（2025-05-18）
  - [x] プロジェクトディレクトリの作成
  - [x] 必要なパッケージの追加
  - [x] プロジェクト構成の設定
- [x] 基本 UI 画面の実装（2025-05-18）
  - [x] ホーム画面の実装
  - [x] ダウンロード一覧画面の実装
  - [x] 設定画面の実装
  - [x] 共通ウィジェットの実装
- [x] 移植リファレンスの作成（2025-05-18）
  - [x] 型定義の移植参照ファイルの作成
  - [x] API クライアントの移植参照ファイルの作成
  - [x] 移植ガイドラインの作成
- [ ] Flutter-Rust 連携（flutter_rust_bridge）の実装
  - [x] FFI レイヤーの設計（2025-05-18）
  - [x] Rust 側の API 実装（2025-05-18）
  - [ ] flutter_rust_bridge_codegen によるバインディング生成
  - [ ] プラットフォーム固有のビルドスクリプトの実装
  - [ ] Dart 側のラッパークラスの実装
- [ ] プラットフォーム固有機能の実装（macOS、Windows、Linux）
  - [ ] ファイル選択ダイアログ
  - [ ] システム通知
  - [ ] バックグラウンド処理
- [ ] 既存 Rust コアとの統合
  - [x] Cargo.toml の依存関係の更新（2025-05-18）
  - [ ] ダウンロードマネージャーとの連携
  - [ ] 設定管理との連携
  - [ ] エラーハンドリングの実装

### プロジェクト構造の最適化

- [x] 移植リファレンス用の src ディレクトリの作成（2025-05-18）
- [x] Flutter-Rust 連携の設定更新（2025-05-18）
- [x] 不要なディレクトリの削除
  - [x] bolt-ndsrc（Flutter アプリに移植後）
  - [ ] apps/desktop（Flutter アプリに移植後）
  - [ ] apps/macos（Flutter アプリに統合後）
  - [ ] apps/mobile（Flutter アプリに統合後）
  - [ ] platforms（Flutter で統一後）
  - [x] packages（必要なものを core または ffi に統合後）
- [ ] モノレポ構造の最適化
  - [ ] ワークスペースの Cargo.toml の更新
  - [ ] .gitignore の更新
  - [ ] ビルドスクリプトの更新

### テストの実装

- [ ] 単体テストの作成（Rust core）
- [ ] 統合テストの作成（FFI レイヤー）
- [ ] Flutter ウィジェットテストの作成
- [ ] E2E テストの作成（Flutter アプリケーション）
- [ ] テストカバレッジの測定と改善

### CI/CD パイプラインの構築

- [ ] GitHub Actions の設定
- [ ] クロスプラットフォームビルドの自動化
- [ ] 自動テストの実行
- [ ] リリースパッケージの自動生成